diff --git a/content/web_test/browser/web_test_content_browser_client.cc b/content/web_test/browser/web_test_content_browser_client.cc
index 48a07780e6146..6acf2daab8315 100644
--- a/content/web_test/browser/web_test_content_browser_client.cc
+++ b/content/web_test/browser/web_test_content_browser_client.cc
@@ -404,6 +404,9 @@ void WebTestContentBrowserClient::AppendExtraCommandLineSwitches(
       switches::kEnableFontAntialiasing,
       switches::kAlwaysUseComplexText,
       switches::kStableReleaseMode,
+#if BUILDFLAG(IS_WIN)
+    switches::kRegisterFontFiles,
+#endif
   };
 
   command_line->CopySwitchesFrom(*base::CommandLine::ForCurrentProcess(),
diff --git a/third_party/blink/public/web/win/web_font_rendering.h b/third_party/blink/public/web/win/web_font_rendering.h
index 3addef2393409..cbcc4b4b3692d 100644
--- a/third_party/blink/public/web/win/web_font_rendering.h
+++ b/third_party/blink/public/web/win/web_font_rendering.h
@@ -11,6 +11,7 @@
 #include "third_party/skia/include/core/SkRefCnt.h"
 
 class SkFontMgr;
+class SkTypeface;
 
 namespace blink {
 
@@ -26,6 +27,7 @@ class BLINK_EXPORT WebFontRendering {
   // alive until the process exits.
   static void SetFontRenderingClient(WebFontRenderingClient*);
   static WebFontPrewarmer* GetFontPrewarmer();
+  static void AddSideloadedFontForTesting(sk_sp<SkTypeface>);
   static void SetMenuFontMetrics(const WebString& family_name,
                                  int32_t font_height);
   static void SetSmallCaptionFontMetrics(const WebString& family_name,
diff --git a/third_party/blink/renderer/core/layout/web_font_rendering_win.cc b/third_party/blink/renderer/core/layout/web_font_rendering_win.cc
index 7f491246d1607..633e553052e9b 100644
--- a/third_party/blink/renderer/core/layout/web_font_rendering_win.cc
+++ b/third_party/blink/renderer/core/layout/web_font_rendering_win.cc
@@ -31,6 +31,11 @@ void WebFontRendering::SetFontRenderingClient(
   FontCache::SetFontPrewarmer(rendering_client);
 }
 
+// static
+void WebFontRendering::AddSideloadedFontForTesting(sk_sp<SkTypeface> typeface) {
+  FontCache::AddSideloadedFontForTesting(std::move(typeface));
+}
+
 // static
 void WebFontRendering::SetMenuFontMetrics(const WebString& family_name,
                                           int32_t font_height) {
diff --git a/third_party/blink/renderer/platform/fonts/font_cache.h b/third_party/blink/renderer/platform/fonts/font_cache.h
index 0887bc4dd3d3f..c7f77500dde3f 100644
--- a/third_party/blink/renderer/platform/fonts/font_cache.h
+++ b/third_party/blink/renderer/platform/fonts/font_cache.h
@@ -209,6 +209,7 @@ class PLATFORM_EXPORT FontCache final {
     antialiased_text_enabled_ = enabled;
   }
   static void SetLCDTextEnabled(bool enabled) { lcd_text_enabled_ = enabled; }
+  static void AddSideloadedFontForTesting(sk_sp<SkTypeface>);
   // Functions to cache and retrieve the system font metrics.
   static void SetMenuFontMetrics(const AtomicString& family_name,
                                  int32_t font_height);
@@ -368,6 +369,8 @@ class PLATFORM_EXPORT FontCache final {
   static WebFontPrewarmer* prewarmer_;
   static bool antialiased_text_enabled_;
   static bool lcd_text_enabled_;
+  static HashMap<String, sk_sp<SkTypeface>, CaseFoldingHashTraits<String>>*
+      sideloaded_fonts_;
   // The system font metrics cache.
   static AtomicString* menu_font_family_name_;
   static int32_t menu_font_height_;
diff --git a/third_party/blink/renderer/platform/fonts/skia/font_cache_skia.cc b/third_party/blink/renderer/platform/fonts/skia/font_cache_skia.cc
index 16462cc8cda1c..a56629ffdf6fc 100644
--- a/third_party/blink/renderer/platform/fonts/skia/font_cache_skia.cc
+++ b/third_party/blink/renderer/platform/fonts/skia/font_cache_skia.cc
@@ -226,6 +226,15 @@ sk_sp<SkTypeface> FontCache::CreateTypeface(
   }
 #endif  // BUILDFLAG(IS_ANDROID)
 
+#if BUILDFLAG(IS_WIN)
+  // TODO(vmpstr): Deal with paint typeface here.
+  if (sideloaded_fonts_) {
+    auto sideloaded_font = sideloaded_fonts_->find(name.c_str());
+    if (sideloaded_font != sideloaded_fonts_->end())
+      return sideloaded_font->value;
+  }
+#endif
+
   // TODO(https://crbug.com/1425390: Assign FontCache::font_manager_ in the
   // ctor.
   auto font_manager = font_manager_ ? font_manager_ : skia::DefaultFontMgr();
diff --git a/third_party/blink/renderer/platform/fonts/win/font_cache_skia_win.cc b/third_party/blink/renderer/platform/fonts/win/font_cache_skia_win.cc
index 46fa939d5e136..330829440ba85 100644
--- a/third_party/blink/renderer/platform/fonts/win/font_cache_skia_win.cc
+++ b/third_party/blink/renderer/platform/fonts/win/font_cache_skia_win.cc
@@ -31,6 +31,8 @@
 
 #include <windows.h>  // For GetACP()
 
+#include <freetype/freetype.h>
+#include <ft2build.h>
 #include <unicode/uscript.h>
 
 #include <memory>
@@ -63,6 +63,10 @@ namespace blink {
 
 WebFontPrewarmer* FontCache::prewarmer_ = nullptr;
 
+using SideloadedFontsMap =
+    HashMap<String, sk_sp<SkTypeface>, CaseFoldingHashTraits<String>>;
+SideloadedFontsMap* FontCache::sideloaded_fonts_ = nullptr;
+
 // Cached system font metrics.
 AtomicString* FontCache::menu_font_family_name_ = nullptr;
 int32_t FontCache::menu_font_height_ = 0;
@@ -80,6 +84,45 @@ int32_t EnsureMinimumFontHeightIfNeeded(int32_t font_height) {
   return ((font_height < 12.0f) && (GetACP() == 936)) ? 12.0f : font_height;
 }
 
+// Test-only code for matching sideloaded fonts by postscript name. This
+// implementation is incomplete, as it does not match the full font name and
+// only uses FT_Get_Postscript_Name, which returns an ASCII font name. This is
+// intended to pass tests on Windows, where for example src: local(Ahem) is used
+// in @font-face CSS declarations.  Skia does not expose getAdvancedMetrics, so
+// we use FreeType here to parse the font's postscript name.
+sk_sp<SkTypeface> FindUniqueFontNameFromSideloadedFonts(
+    const String& font_name,
+    SideloadedFontsMap* sideloaded_fonts) {
+  CHECK(sideloaded_fonts);
+  FT_Library library;
+  FT_Init_FreeType(&library);
+
+  sk_sp<SkTypeface> return_typeface(nullptr);
+  for (auto& sideloaded_font : sideloaded_fonts->Values()) {
+    // Open ttc index zero as we can assume that we do not sideload TrueType
+    // collections.
+    std::unique_ptr<SkStreamAsset> typeface_stream(
+        sideloaded_font->openStream(nullptr));
+    CHECK(typeface_stream->getMemoryBase());
+    std::string font_family_name;
+    FT_Face font_face;
+    FT_Open_Args open_args = {
+        FT_OPEN_MEMORY,
+        reinterpret_cast<const FT_Byte*>(typeface_stream->getMemoryBase()),
+        static_cast<FT_Long>(typeface_stream->getLength())};
+    CHECK_EQ(FT_Err_Ok, FT_Open_Face(library, &open_args, 0, &font_face));
+    font_family_name = FT_Get_Postscript_Name(font_face);
+    FT_Done_Face(font_face);
+
+    if (font_name.FoldCase() == String(font_family_name.c_str()).FoldCase()) {
+      return_typeface = sideloaded_font;
+      break;
+    }
+  }
+  FT_Done_FreeType(library);
+  return return_typeface;
+}
+
 static const char kChineseSimplified[] = "zh-Hant";
 
 // For Windows out-of-process fallback calls, there is a limiation: only one
@@ -130,6 +173,17 @@ void FontCache::PrewarmFamily(const AtomicString& family_name) {
   prewarmer_->PrewarmFamily(family_name);
 }
 
+// static
+void FontCache::AddSideloadedFontForTesting(sk_sp<SkTypeface> typeface) {
+  if (!sideloaded_fonts_) {
+    sideloaded_fonts_ = new SideloadedFontsMap();
+  }
+  SkString name;
+  typeface->getFamilyName(&name);
+  String name_wtf(name.c_str());
+  sideloaded_fonts_->Set(name_wtf, std::move(typeface));
+}
+
 //static
 void FontCache::SetSystemFontFamily(const AtomicString&) {
   // TODO(https://crbug.com/808221) Use this instead of
@@ -499,6 +553,11 @@ std::unique_ptr<FontPlatformData> FontCache::CreateFontPlatformData(
       RuntimeEnabledFeatures::FontSrcLocalMatchingEnabled()) {
     typeface = CreateTypefaceFromUniqueName(creation_params);
 
+    if (!typeface && sideloaded_fonts_) {
+      typeface = FindUniqueFontNameFromSideloadedFonts(creation_params.Family(),
+                                                       sideloaded_fonts_);
+    }
+
     // We do not need to try any heuristic around the font name, as below, for
     // family matching.
     if (!typeface)
diff --git a/third_party/blink/renderer/platform/BUILD.gn b/third_party/blink/renderer/platform/BUILD.gn
index 7fde1fa8af888..9102b5d3fc8a8 100644
--- a/third_party/blink/renderer/platform/BUILD.gn
+++ b/third_party/blink/renderer/platform/BUILD.gn
@@ -1809,6 +1811,7 @@ component("platform") {
     "//services/viz/public/cpp/gpu",
     "//skia",
     "//skia:skcms",
+    "//build/config/freetype",
     "//third_party/abseil-cpp:absl",
     "//third_party/blink/public:image_resources",
     "//third_party/blink/public/common",
